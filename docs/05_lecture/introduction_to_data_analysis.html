
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>データ分析入門（講義） &#8212; 広島大学 社会人向けリカレント教育WEB講座 ゼロからのPythonプログラミングとデータ分析入門</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/05_lecture/introduction_to_data_analysis';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="データ分析入門（演習）" href="../05_exercise/exercise_introduction_to_data_analysis.html" />
    <link rel="prev" title="関数（演習）" href="../04_exercise/exercise_functions_and_scope.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo_dalle3.png" class="logo__image only-light" alt="広島大学 社会人向けリカレント教育WEB講座 ゼロからのPythonプログラミングとデータ分析入門 - Home"/>
    <script>document.write(`<img src="../../_static/logo_dalle3.png" class="logo__image only-dark" alt="広島大学 社会人向けリカレント教育WEB講座 ゼロからのPythonプログラミングとデータ分析入門 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    ゼロからのPythonプログラミングとデータ分析入門
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">講義の教材</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../01_intro/introduction_and_setup.html">イントロダクションとGoogle Colaboratoryの導入</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_lecture/variables_and_data_types.html">変数とデータ型（講義）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_exercise/exercise_variables_and_data_types.html">変数とデータ型（演習）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_lecture/conditional_branch.html">条件分岐（講義）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_exercise/exercise_conditional_branch.html">条件分岐（演習）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_lecture/loops.html">繰り返し処理（講義）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_exercise/exercise_loops.html">繰り返し処理（演習）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_lecture/functions_and_scope.html">関数（講義）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_exercise/exercise_functions_and_scope.html">関数（演習）</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">データ分析入門（講義）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_exercise/exercise_introduction_to_data_analysis.html">データ分析入門（演習）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_lecture/introduction_to_machine_learning.html">機械学習入門（講義）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_exercise/exercise_introduction_to_machine_learning.html">機械学習入門（演習）</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">補足情報</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../advanced_materials.html">さらに勉強したい人へ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../00_check_environment.html">ローカル環境でのPythonの動作確認</a></li>
<li class="toctree-l1"><a class="reference internal" href="../anaconda_python/anaconda_python.html">AnacondaによるPythonファイルの実行</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">参考文献</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/python-hu/python-recurrent-public/blob/main/docs/05_lecture/introduction_to_data_analysis.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/python-hu/python-recurrent-public" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/python-hu/python-recurrent-public/issues/new?title=Issue%20on%20page%20%2Fdocs/05_lecture/introduction_to_data_analysis.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/docs/05_lecture/introduction_to_data_analysis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>データ分析入門（講義）</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">内容</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Pythonの外部ライブラリ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">モジュール／ライブラリのインポート</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">モジュールに別名をつける</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">【発展】特定の関数だけを読み込む</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">【発展】特定の関数だけを読み込む</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> によるデータ操作</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-dataframe">Series と DataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">データの読み込み</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">列の抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">行の抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#iloc">【発展】 <code class="docutils literal notranslate"><span class="pre">iloc</span></code> を用いて特定の行・列を抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">条件による抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">複数条件による抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">要約統計量の算出</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#matplotlib"><code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code> によるデータの可視化</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">線グラフ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">散布図</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">棒グラフ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">【発展】ヒストグラム</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">複数のグラフの重ね合わせ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">グラフから読み取れる相関関係</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>データ分析入門（講義）<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>担当：古居彬</p>
<section id="id2">
<h2>内容<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>データ分析入門では，Pythonを用いた基礎的なデータ分析を体験する．
本講義の初回で述べたように，Pythonはデータ分析や機械学習，Webサービスなど幅広い分野で利用されている．
その大きな理由として，さまざまな処理を実現するための機能が豊富に準備されていることが挙げられる．
このような機能を管理しているのが，<strong>モジュール</strong> と呼ばれる単位である．モジュールには，さまざまな関数が含まれている．
データ解析や画像処理といった高度な処理も，それぞれの用途に特化したモジュールを組み合わせることで比較的簡単に実行することができる．
また，モジュールを複数集めたものを <strong>ライブラリ</strong> や <strong>パッケージ</strong> と呼ぶ．
今回は実践編として，いくつかのモジュールを用いてPythonによる簡単なデータ分析を行っていこう．</p>
<ul class="simple">
<li><p>モジュール，ライブラリ，パッケージとその使い方を理解する</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> によるデータ操作を学ぶ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code> によるデータの可視化を学ぶ</p></li>
</ul>
<p>前述の通り，標準ライブラリとはあらかじめ用意されているライブラリである．
<a class="reference internal" href="../04_lecture/functions_and_scope.html"><span class="std std-doc">前回</span></a> 紹介した組み込み関数も，この標準ライブラリの中に含まれている．</p>
<p>組み込み関数は何もせずそのまま使うことができたが，特殊な機能を持つモジュールは後述する <code class="docutils literal notranslate"><span class="pre">import</span></code> 文で読み込む必要がある．</p>
<p>Pythonの標準ライブラリで提供されている関数・モジュールの一覧は以下の公式ページから参照することができる．</p>
<p><a class="reference external" href="https://docs.python.org/ja/3/library/index.html">https://docs.python.org/ja/3/library/index.html</a></p>
<section id="python">
<h3>Pythonの外部ライブラリ<a class="headerlink" href="#python" title="Link to this heading">#</a></h3>
<p>標準ライブラリだけでもかなり幅広い処理が実現できるが，データ分析や画像処理，統計解析や科学技術計算など，特定の分野に特化した機能を利用するためには，外部ライブラリを利用する必要がある．</p>
<p>外部ライブラリは，その名の通り外部の団体や個人によって開発，提供されているライブラリである．
外部ライブラリを利用するためには，まず初めにインストールが必要である．
インストールされた外部ライブラリは，後述する <code class="docutils literal notranslate"><span class="pre">import</span></code> 文で読み込むことができる．</p>
<p>なお，Google Colaboratoryでは既に主要な外部ライブラリがインストールされており，これらは最初から <code class="docutils literal notranslate"><span class="pre">import</span></code> 文で読み込みが可能である．</p>
<blockquote>
<div><p><strong>💡 インストール済ライブラリの表示</strong></p>
<p>Google Colaboratoryにインストールされているライブラリ一覧を表示したい場合は，コードセルにて以下のコマンドを実行すればよい．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="nb">list</span>
</pre></div>
</div>
<p>以下のように，大量のパッケージが表示されるはずだ．</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Package<span class="w">                       </span>Version
-----------------------------<span class="w"> </span>----------------------
absl-py<span class="w">                       </span><span class="m">1</span>.3.0
aeppl<span class="w">                         </span><span class="m">0</span>.0.33
aesara<span class="w">                        </span><span class="m">2</span>.7.9
aiohttp<span class="w">                       </span><span class="m">3</span>.8.3
aiosignal<span class="w">                     </span><span class="m">1</span>.2.0
alabaster<span class="w">                     </span><span class="m">0</span>.7.12
albumentations<span class="w">                </span><span class="m">1</span>.2.1
altair<span class="w">                        </span><span class="m">4</span>.2.0
appdirs<span class="w">                       </span><span class="m">1</span>.4.4
arviz<span class="w">                         </span><span class="m">0</span>.12.1
…<span class="w"> </span><span class="o">(</span>以下省略<span class="o">)</span><span class="w"> </span>…
</pre></div>
</div>
</div></blockquote>
<p>なお，本講義で利用する外部ライブラリについても，上記インストール済リストに含まれるため，新たにインストールの手順を踏む必要はない．
外部ライブラリを自分で追加インストールする方法を学びたい人は，以下の発展項目を参照されたい．</p>
<blockquote>
<div><p><strong>💡 【発展】外部ライブラリをインストールする方法</strong></p>
<p>Pythonで利用可能な外部ライブラリは，<strong>Python Package Index（PyPl）</strong> というソフトウェアリポジトリで管理されている．
ざっくり表現すると，外部ライブラリのカタログのようなものである．</p>
<p>以下のサイトより，インストール可能な外部ライブラリを検索することができる．</p>
<p><a class="reference external" href="https://pypi.org">https://pypi.org</a></p>
<p><strong>pip</strong> などのパッケージ管理システムを利用することで，PyPlに登録されているライブラリやパッケージをダウンロード＆インストールすることができる．
Google Colaboratoryにおける外部ライブラリも，このpipというシステムによって管理されている．</p>
<p>Google Colaboratoryで新しい外部ライブラリをインストールしたい場合，コードセルにて次のコマンドを実行すれば良い．</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>!pip<span class="w"> </span>install<span class="w"> </span>ライブラリ名
</pre></div>
</div>
</div></blockquote>
</section>
<section id="id3">
<h3>モジュール／ライブラリのインポート<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>前述の通り，モジュールやライブラリに含まれる関数やクラスを使用するためには，対象となるモジュール／ライブラリを読み込む（ <strong>インポート</strong> する）必要がある．
これには， <code class="docutils literal notranslate"><span class="pre">import</span></code> という文を使う．以下のように記述することでモジュールをインポートできる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">モジュール名</span>
</pre></div>
</div>
<p>または</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ライブラリ名</span>
</pre></div>
</div>
<p>モジュール／ライブラリのインポートは，最初に1回記述すればよい．</p>
<p>試しに，数学関係の便利な関数をまとめた <code class="docutils literal notranslate"><span class="pre">math</span></code> というモジュールをインポートしてみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</pre></div>
</div>
</div>
</div>
<p>これで，<code class="docutils literal notranslate"><span class="pre">math</span></code> モジュールが使えるようになった．
<code class="docutils literal notranslate"><span class="pre">math</span></code> モジュールに含まれる関数を使用するためには， <code class="docutils literal notranslate"><span class="pre">math.関数名</span></code> のように記述すればOKである．</p>
<p>例えば，平方根を計算したいときは <code class="docutils literal notranslate"><span class="pre">math.sqrt()</span></code> のように記述する．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4142135623730951
</pre></div>
</div>
</div>
</div>
<p>ほかにも <code class="docutils literal notranslate"><span class="pre">math</span></code> モジュールには様々な関数が用意されている．
以下に，いくつかの例を示す．</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>関数</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sin(x)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span></code> のサイン（正弦）を返す</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cos(x)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span></code> のコサイン（余弦）を返す</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tan(x)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span></code> のタンジェント（正接）を返す</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">exp(x)</span></code></p></td>
<td><p>自然対数の底（ネイピア数）の <code class="docutils literal notranslate"><span class="pre">x</span></code> 乗を返す</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">log(x)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span></code> の自然対数を返す</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sqrt(x)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span></code> の平方根を返す</p></td>
</tr>
</tbody>
</table>
</div>
<p>そのうちいくつかを実行してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span> <span class="c1"># 自然対数</span>
<span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span> <span class="c1"># 正弦（サイン）</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.5649493574615367
0.7071067811865475
</pre></div>
</div>
</div>
</div>
<p>また，<code class="docutils literal notranslate"><span class="pre">math</span></code> モジュールには関数の他にも，数学で多用される <strong>定数</strong> も含まれている．
以下に代表例を表示してみる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="c1"># 円周率</span>
<span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">e</span><span class="p">)</span> <span class="c1"># 自然対数の底（ネイピア数）</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.141592653589793
2.718281828459045
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h3>モジュールに別名をつける<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>モジュールをインポートする際，別の名前（例えば短縮名）を付けることが可能である．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">モジュール名</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">短縮名</span>
</pre></div>
</div>
<p>例えば，以下のように書くことで，モジュール <code class="docutils literal notranslate"><span class="pre">math</span></code> に短縮名 <code class="docutils literal notranslate"><span class="pre">m</span></code> を付けてインポートすることができる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m</span>
</pre></div>
</div>
</div>
</div>
<p>このようにインポートすることで，<code class="docutils literal notranslate"><span class="pre">math</span></code> モジュールに含まれる関数を使用する際， <code class="docutils literal notranslate"><span class="pre">m.関数名</span></code> のように簡潔に書けるようになる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4142135623730951
</pre></div>
</div>
</div>
</div>
</section>
<section id="id5">
<h3>【発展】特定の関数だけを読み込む<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>モジュールやライブラリを用いる際，特定の関数だけを読み込みたいことがある．
そのような場合は，以下の表記を用いて指定した関数・クラスだけをインポートすることができる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">モジュール名</span><span class="w"> </span><span class="kn">import</span> <span class="n">関数名</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">from</span></code> でモジュール名を指定し，続く <code class="docutils literal notranslate"><span class="pre">import</span></code> に読み込みたい関数・クラスを指定する（複数の関数・クラスを指定したい場合は，カンマ区切りで並べて書く）．</p>
<p>このようにしてインポートした場合，モジュール名を記述しなくとも，関数・クラスをそのまま呼び出すことができる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">sqrt</span>

<span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.7320508075688772
</pre></div>
</div>
</div>
</div>
</section>
<section id="id6">
<h3>【発展】特定の関数だけを読み込む<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>モジュールやライブラリを用いる際，特定の関数だけを読み込みたいことがある．
そのような場合は，以下の表記を用いて指定した関数・クラスだけをインポートすることができる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">モジュール名</span><span class="w"> </span><span class="kn">import</span> <span class="n">関数名</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">from</span></code> でモジュール名を指定し，続く <code class="docutils literal notranslate"><span class="pre">import</span></code> に読み込みたい関数・クラスを指定する（複数の関数・クラスを指定したい場合は，カンマ区切りで並べて書く）．</p>
<p>このようにしてインポートした場合，モジュール名を記述しなくとも，関数・クラスをそのまま呼び出すことができる．</p>
<blockquote>
<div><p><strong>💡 モジュール，パッケージ，ライブラリのまとめ</strong></p>
<ul class="simple">
<li><p>複数の関数やクラスをまとめたものをモジュールと呼ぶ</p></li>
<li><p>モジュールをさらにまとめたものをパッケージやライブラリと呼ぶ</p></li>
<li><p>外部ライブラリを追加インストールすることで，様々な追加機能が使えるようにある</p></li>
<li><p>モジュールやライブラリは <code class="docutils literal notranslate"><span class="pre">import</span></code> 文で読み込むことができる</p></li>
</ul>
</div></blockquote>
<p>なお，これ以降は代表的な外部ライブラリである <code class="docutils literal notranslate"><span class="pre">pandas</span></code> と <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> を用いてデータ分析に取り組んでいく．
これら2つのライブラリはそれぞれ膨大な数のモジュールを含んでおり，それらの網羅的な紹介は本講義では行わず，各ライブラリの機能を体験する上で最小限の説明にとどめる．</p>
<p>将来的にPythonでプログラミングをする機会が生じたときに，各自で検索しながら様々な具体的な機能を学んで行って欲しい．
プログラミングにおいては，網羅的な知識を有しておくよりも，必要に応じて適切に情報を検索し利用する能力の方が重要である．</p>
</section>
</section>
<section id="pandas">
<h2><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> によるデータ操作<a class="headerlink" href="#pandas" title="Link to this heading">#</a></h2>
<p>では，実際にデータ分析の本題に入っていこう．
今回は，<strong>Pandas</strong> というライブラリを用いる．
Pandasは，データ解析を容易に行うための機能を提供しており，データの操作や加工，分析などさまざまな処理を行うことができる．</p>
<p>以下のコマンドで，まずはPandasをインポートしよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>なお，簡単のため <code class="docutils literal notranslate"><span class="pre">as</span></code> を用いて <code class="docutils literal notranslate"><span class="pre">pd</span></code> という短縮名でインポートした．</p>
<section id="series-dataframe">
<h3>Series と DataFrame<a class="headerlink" href="#series-dataframe" title="Link to this heading">#</a></h3>
<p>Pandasでは，<strong>Series（シリーズ）</strong> や <strong>DataFrame（データフレーム）</strong> といった特殊なデータ構造が使用される．
Seriesは1次元（列形式）のデータ，DataFrameは2次元（行列形式）のデータを扱うための構造である．</p>
<p>実際のデータ分析の場面では2次元のデータを扱うことが多いため，本講義では2次元のデータ構造であるDataFrameを主に扱っていく．</p>
<p>DataFrameは前述の通り，行と列の2次元で表現され，表のような構造となっている．
それぞれの列に対して，文字列型や数値型など，一様な型のデータが格納されている．</p>
<p>列と行にはそれぞれ列名と行名（またはインデックス）が付けられており，これらを指定することで，データの集計や抽出，加工に利用することができる．</p>
<blockquote>
<div><p><strong>💡 DataFrameからSeriesを抽出する</strong></p>
<p>DataFrameから抽出した1行または1列の情報は，1次元のデータ構造であるSeriesとなる．
逆に，複数のSeriesを結合してDataFrameとして扱うこともできる．</p>
<p>このように，DataFrameは複数のSeriesの集合と考えることができる．</p>
</div></blockquote>
<p>DataFrameを作成するには，以下のようなコードを書けば良い．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">格納するデータ</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">行名</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">列名</span><span class="p">)</span>
</pre></div>
</div>
<p>このとき，引数の <code class="docutils literal notranslate"><span class="pre">data</span></code> には，リスト型や辞書型の変数を指定することができる（復習 → <a class="reference internal" href="../01_lecture/variables_and_data_types.html"><span class="std std-doc">変数とデータ型</span></a>）．</p>
<p>本講義では，ファイルに格納された情報をDataFrameに取り込んで解析に利用していくこととする．</p>
</section>
<section id="id7">
<h3>データの読み込み<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>今回は，あるコンビニエンスストアにおけるコーヒー販売データを用いてデータ分析に取り組んでいく．
このデータは教育用に作成した架空のデータである．</p>
<p>まず，当該データをダウンロードしよう．
以下のセルを実行すると，<code class="docutils literal notranslate"><span class="pre">data</span></code> フォルダの中に <code class="docutils literal notranslate"><span class="pre">coffee_sales.csv</span></code> というファイルがダウンロードされる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>mkdir<span class="w"> </span>-p<span class="w"> </span>data
<span class="o">!</span>wget<span class="w"> </span>-P<span class="w"> </span>data<span class="w"> </span>https://raw.githubusercontent.com/python-hu/resource/refs/heads/main/zero_to_programming/coffee_sales.csv<span class="w"> </span>-O<span class="w"> </span>data/coffee_sales.csv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2025-07-11 12:50:14--  https://raw.githubusercontent.com/python-hu/resource/refs/heads/main/zero_to_programming/coffee_sales.csv
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 2606:50c0:8002::154, 2606:50c0:8000::154, 2606:50c0:8003::154, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|2606:50c0:8002::154|:443... connected.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>HTTP request sent, awaiting response... 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
Length: 273 [text/plain]
Saving to: ‘data/coffee_sales.csv’


coffee_sales.csv      0%[                    ]       0  --.-KB/s               
coffee_sales.csv    100%[===================&gt;]     273  --.-KB/s    in 0s      

2025-07-11 12:50:14 (32.5 MB/s) - ‘data/coffee_sales.csv’ saved [273/273]
</pre></div>
</div>
</div>
</div>
<p>本講義の範囲内では上記のコードが何をやっているかを意識する必要はないが，簡単に説明しよう．
<code class="docutils literal notranslate"><span class="pre">!mkdir</span> <span class="pre">data</span></code>でGoogle Colab内に<code class="docutils literal notranslate"><span class="pre">data</span></code>という名前がついたフォルダを作成し，以降の<code class="docutils literal notranslate"><span class="pre">!wget</span> <span class="pre">-P</span> <span class="pre">data</span> <span class="pre">{URL}</span></code>で<code class="docutils literal notranslate"><span class="pre">URL</span></code>にあるファイルを先ほど作成した<code class="docutils literal notranslate"><span class="pre">data</span></code>フォルダにダウンロードするという操作をしている．</p>
<p>さて， <code class="docutils literal notranslate"><span class="pre">coffee_sales.csv</span></code>には，あるコンビニエンスストアにおける8月のコーヒー販売データ（2週間 = 14日分）が格納されている．
このファイルは <strong>CSVファイル</strong> と呼ばれ，以下のように各データの間がコンマ <code class="docutils literal notranslate"><span class="pre">,</span></code> で区切られている．</p>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>日付, 最高気温, アイスコーヒー, ホットコーヒー
1, 29.2, 312, 168
2, 30.1, 348, 152
3, 28.9, 284, 196
...
</pre></div>
</div>
<p>1行目は列のタイトル（ヘッダとも呼ばれる）となっており，2行目から各日付におけるデータが格納されている．
暑い日にはアイスコーヒー，涼しい日にはホットコーヒーの需要が変わるかもしれない．
そこで，このファイルには各日付におけるコーヒー販売数以外に，その日の最高気温も含まれている．</p>
<p>CSVファイルを読み込むには，Pandasに含まれる <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> という関数が便利である．</p>
<p><code class="docutils literal notranslate"><span class="pre">read_csv</span></code> 関数は，目的とするファイルの保存場所までの経路（これを <strong>パス</strong> といいます）を文字列として引数に渡すことで，そのファイルを開くことができる．
今回は <code class="docutils literal notranslate"><span class="pre">data</span></code> というフォルダに入っている <code class="docutils literal notranslate"><span class="pre">coffee_sales.csv</span></code> を開きたいので，<code class="docutils literal notranslate"><span class="pre">'data/coffee_sales.csv'</span></code> という文字列を渡せばOK．
ここで，スラッシュ <code class="docutils literal notranslate"><span class="pre">/</span></code> はパスを記述する際の区切り文字で， <code class="docutils literal notranslate"><span class="pre">A/B</span></code> と書くとフォルダ <code class="docutils literal notranslate"><span class="pre">A</span></code> の中に <code class="docutils literal notranslate"><span class="pre">B</span></code> があることを意味する．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ファイルを `df` という変数に読み込む</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/coffee_sales.csv&#39;</span><span class="p">)</span> 

<span class="c1"># dfの中身を表示</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>日付</th>
      <th>最高気温</th>
      <th>アイスコーヒー</th>
      <th>ホットコーヒー</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>29.2</td>
      <td>312</td>
      <td>168</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>30.1</td>
      <td>348</td>
      <td>152</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>28.9</td>
      <td>284</td>
      <td>196</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>31.5</td>
      <td>385</td>
      <td>115</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>32.3</td>
      <td>412</td>
      <td>88</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>33.1</td>
      <td>435</td>
      <td>65</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>31.8</td>
      <td>398</td>
      <td>102</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>28.5</td>
      <td>265</td>
      <td>205</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>30.8</td>
      <td>365</td>
      <td>135</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>32.7</td>
      <td>428</td>
      <td>72</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>33.5</td>
      <td>445</td>
      <td>55</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>34.2</td>
      <td>468</td>
      <td>32</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>29.5</td>
      <td>325</td>
      <td>155</td>
    </tr>
    <tr>
      <th>13</th>
      <td>14</td>
      <td>30.2</td>
      <td>352</td>
      <td>148</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>上の出力の結果から，「日付」，「最高気温」，「アイスコーヒー」，「ホットコーヒー」の4つの列で構成されるデータが読み込まれていることがわかる．
なお，一番左の列はPandasによって付けられた行のインデックスである．このインデックスは0からスタートしていることに気をつけよう．</p>
<blockquote>
<div><p><strong>💡 列名（ヘッダ）の認識</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">read_csv</span></code> 関数では，デフォルトでCSVファイル中の1行目の情報を列名（ヘッダ）として解釈してくれる．
先ほど読み込んだ <code class="docutils literal notranslate"><span class="pre">coffee_sales.csv</span></code> はまさに1行目にヘッダが入っていたため上手くいったが，場合によってはヘッダのないCSVファイルを読み込むこともあるだろう．</p>
<p>そのような場合は，<code class="docutils literal notranslate"><span class="pre">read_csv</span></code> 関数の引数として <code class="docutils literal notranslate"><span class="pre">header=None</span></code> とすればよい．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/sample_no_header.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> 
</pre></div>
</div>
<p>また，列名を自分で設定したい場合は，引数 <code class="docutils literal notranslate"><span class="pre">names</span></code> で指定できる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/sample_no_header.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span> 
</pre></div>
</div>
</div></blockquote>
</section>
<section id="id8">
<h3>列の抽出<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p>データフレームから任意の列を抽出したい場合，<code class="docutils literal notranslate"><span class="pre">DataFrame['列名']</span></code> のように書けばよい（文字列として指定するため，クォーテーション <code class="docutils literal notranslate"><span class="pre">'</span></code> で囲っていることに注意）．
例えば上記 <code class="docutils literal notranslate"><span class="pre">df</span></code> から「最高気温」の列を取り出したい場合は，以下の通りである．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     29.2
1     30.1
2     28.9
3     31.5
4     32.3
5     33.1
6     31.8
7     28.5
8     30.8
9     32.7
10    33.5
11    34.2
12    29.5
13    30.2
Name: 最高気温, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>同様にして，「アイスコーヒー」の列を取り出してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;客数&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File ~/envs/develop/lib/python3.9/site-packages/pandas/core/indexes/base.py:3653,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3652</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3653</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3654</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File ~/envs/develop/lib/python3.9/site-packages/pandas/_libs/index.pyx:147,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File ~/envs/develop/lib/python3.9/site-packages/pandas/_libs/index.pyx:176,</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7080,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">File pandas/_libs/hashtable_class_helper.pxi:7088,</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;客数&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;客数&#39;</span><span class="p">]</span>

<span class="nn">File ~/envs/develop/lib/python3.9/site-packages/pandas/core/frame.py:3761,</span> in <span class="ni">DataFrame.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3759</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3760</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3761</span> <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3762</span> <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3763</span>     <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">File ~/envs/develop/lib/python3.9/site-packages/pandas/core/indexes/base.py:3655,</span> in <span class="ni">Index.get_loc</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3653</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3654</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3655</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3656</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3657</span>     <span class="c1"># If we have a listlike key, _check_indexing_error will raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3658</span>     <span class="c1">#  InvalidIndexError. Otherwise we fall through and re-raise</span>
<span class="g g-Whitespace">   </span><span class="mi">3659</span>     <span class="c1">#  the TypeError.</span>
<span class="g g-Whitespace">   </span><span class="mi">3660</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_check_indexing_error</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;客数&#39;
</pre></div>
</div>
</div>
</div>
<p>なお，複数の列を取り出したい場合は，取り出したい列名のリスト <code class="docutils literal notranslate"><span class="pre">['列1',</span> <span class="pre">'列2',</span> <span class="pre">'列3',</span> <span class="pre">...]</span></code> を <code class="docutils literal notranslate"><span class="pre">DataFrame[</span> <span class="pre">]</span></code> の括弧 <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> の中に記述すればよい．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DataFrame</span><span class="p">[[</span><span class="s1">&#39;列1&#39;</span><span class="p">,</span> <span class="s1">&#39;列2&#39;</span><span class="p">,</span> <span class="s1">&#39;列3&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>括弧 <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> が二重になっていることに注意すること．</p>
<p>例えば最高気温とアイスコーヒーの両方を取り出したい場合は，以下のような書き方になる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">,</span> <span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h3>行の抽出<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<p>コロン（<code class="docutils literal notranslate"><span class="pre">:</span></code>）で行のインデックスを指定することで，特定の区間の行を抽出することができる．</p>
<p>例えば，2行目から5行目までを抽出したい場合は，スライシングを用いて以下のように書けば良い．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="iloc">
<h3>【発展】 <code class="docutils literal notranslate"><span class="pre">iloc</span></code> を用いて特定の行・列を抽出<a class="headerlink" href="#iloc" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">iloc</span></code> を利用すると，DataFrameに対して行番号と列番号を指定してデータを抽出することが可能である．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">行番号</span><span class="p">,</span> <span class="n">列番号</span><span class="p">]</span>
</pre></div>
</div>
<p>例えば1行目を抽出する場合は，以下のように書けば良い．なお，行番号のみを指定する場合，列番号の指定は省略できる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>また，3行目から6行目を抽出したい場合は，スライシング（復習 → <a class="reference internal" href="../01_lecture/variables_and_data_types.html"><span class="std std-doc">変数とデータ型</span></a>）を利用して以下のように書くことができる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>今度は列を考える．
例えば2列目を抽出したい場合は，行の指定を <code class="docutils literal notranslate"><span class="pre">:</span></code> （すべての行という意味）とし，列の指定を <code class="docutils literal notranslate"><span class="pre">2</span></code> とする．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>これらを組み合わせ，例えば2列目の3行目から6行目を抽出したい場合は，以下のように書けばよい，</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id10">
<h3>条件による抽出<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> または <code class="docutils literal notranslate"><span class="pre">False</span></code> を返す条件式を指定することで，データフレームから条件を満たす任意の行を抽出することができる．</p>
<p>例えば，データフレーム <code class="docutils literal notranslate"><span class="pre">df</span></code> から，「最高気温が30度より大きい」の行だけ抜き出したいとしよう．
これを表す条件式は， <code class="docutils literal notranslate"><span class="pre">df['最高気温']</span> <span class="pre">&gt;</span> <span class="pre">30</span></code> となる．
実際に実行してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span>
</pre></div>
</div>
</div>
</div>
<p>縦に <code class="docutils literal notranslate"><span class="pre">True</span></code> と <code class="docutils literal notranslate"><span class="pre">False</span></code> がズラッと並んでいるが，これはデータフレーム <code class="docutils literal notranslate"><span class="pre">df</span></code> のうち，どの行が条件式 <code class="docutils literal notranslate"><span class="pre">df['最高気温']</span> <span class="pre">&gt;</span> <span class="pre">30</span></code> を満たすかを表している．
上記の出力で条件式が満たされる（つまり <code class="docutils literal notranslate"><span class="pre">True</span></code> になっている）のは，行インデックスが「3, 4, 5, 6, 9, 10, 11」の場合であることがわかる．</p>
<p>実際に上の方で出力した <code class="docutils literal notranslate"><span class="pre">df</span></code> の中身と照らし合わせてみよう．
<code class="docutils literal notranslate"><span class="pre">True</span></code> となっている行における最高気温が30度よりも大きくなっているはずだ．</p>
<p>最終的には， <code class="docutils literal notranslate"><span class="pre">DataFrame[条件式]</span></code> のように書くことで，条件式を満たす行のみを取り出すことができる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>同様に，「アイスコーヒーが400個より多く売れた」行だけを抜き出してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">400</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>このうち，さらに「アイスコーヒーが400個より多く売れた」行について，「最高気温」だけを抜き出したい場合は，<code class="docutils literal notranslate"><span class="pre">DataFrame[条件式]['列名']</span></code> のように，列名を指定する <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> を後ろにくっ付ければよい．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">400</span><span class="p">][</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id11">
<h3>複数条件による抽出<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<p>単一の条件ではなく，複数の条件を使って行を抽出することもできる．</p>
<p>そのためには，<a class="reference internal" href="../04_lecture/functions_and_scope.html"><span class="std std-doc">条件分岐の回</span></a>で学んだ論理演算子の考え方で各条件を繋げればよい．</p>
<p>ただし，条件分岐の際とは以下の2点が異なる．</p>
<ul class="simple">
<li><p>条件分岐のときに用いた <code class="docutils literal notranslate"><span class="pre">and</span></code> と <code class="docutils literal notranslate"><span class="pre">or</span></code> は使えない．DataFrameに対して複数の条件を設定する際は，<code class="docutils literal notranslate"><span class="pre">and</span></code> の代わりに <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>， <code class="docutils literal notranslate"><span class="pre">or</span></code> の代わりに <code class="docutils literal notranslate"><span class="pre">|</span></code> を使う必要がある．</p></li>
<li><p>各条件は括弧 <code class="docutils literal notranslate"><span class="pre">()</span></code> で囲む必要がある．</p></li>
</ul>
<p>例えば，「アイスコーヒーが400個より多く売れた」かつ「最高気温が32度以上」の行だけを抽出したい場合は，以下のように書く．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">400</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">32</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<p>同様に，「最高気温が30度未満」または「最高気温が33度以上」の行だけを抽出したい場合は，以下のように書く．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">]</span> <span class="o">&gt;=</span><span class="mi">33</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id12">
<h3>要約統計量の算出<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p>データが与えられた時，生の数字だけを見てもなかなか情報は得られない．
多くの場合，データの特徴を要約した数値を計算し，全体の傾向の掴んだり，さまざまな条件で比較したりする．</p>
<p>このとき計算される数値のことを <strong>要約統計量</strong> や <strong>記述統計量</strong> と呼ぶ．
これには様々な種類があるが，今回は最も基本的な5つの要約統計量を計算してみよう．</p>
<p>各統計量は，データフレームに対して以下のように書くことで計算できる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DataFrame</span><span class="o">.</span><span class="n">統計量</span><span class="p">()</span>
</pre></div>
</div>
<p>今回はデータ中の「アイスコーヒー」に対して，各種統計量を計算してみる．</p>
<p><strong>最小値</strong>（<code class="docutils literal notranslate"><span class="pre">min</span></code>）：データに含まれる最も小さい数．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="c1"># 最小値の計算</span>
</pre></div>
</div>
</div>
</div>
<p><strong>最大値</strong>（<code class="docutils literal notranslate"><span class="pre">max</span></code>）：データに含まれる最も大きい数．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="c1"># 最大値の計算</span>
</pre></div>
</div>
</div>
</div>
<p><strong>平均値</strong>（<code class="docutils literal notranslate"><span class="pre">mean</span></code>）：データの中間的な値を表す統計量．<span class="math notranslate nohighlight">\(N\)</span> 個のデータ <span class="math notranslate nohighlight">\(x_1, x_2, \ldots, x_N\)</span> に対して，以下のようにデータの合計を個数で割ることで計算される．</p>
<div class="math notranslate nohighlight">
\[
\bar{x} = \frac{1}{N} \sum_{i=1}^N x_i
\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1"># 平均値の計算</span>
</pre></div>
</div>
</div>
</div>
<p><strong>分散</strong>（<code class="docutils literal notranslate"><span class="pre">var</span></code>）：データのばらつき具合を表す統計量．以下の式で計算される．</p>
<div class="math notranslate nohighlight">
\[
s^2 = \frac{1}{N} \sum_{i=1}^N (x_i - \bar{x})^2
\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">var</span><span class="p">()</span> <span class="c1"># 分散の計算</span>
</pre></div>
</div>
</div>
</div>
<p><strong>標準偏差</strong>（<code class="docutils literal notranslate"><span class="pre">std</span></code>）：分散 <span class="math notranslate nohighlight">\(s^2\)</span> の平方根で計算される．分散は各データを2乗した値から求めているため，平均と比較することができない．分散の平方根を計算することで，データのばらつきを平均を比較できるようになる．</p>
<div class="math notranslate nohighlight">
\[
s = \sqrt{s^2}
\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span> <span class="c1"># 標準偏差の計算</span>
</pre></div>
</div>
</div>
</div>
<p>以上をまとめると，14日間におけるアイスコーヒーの販売数は265個から468個の範囲で変化し，平均値は約366個，標準偏差は約60個なので，日によってかなりばらつきがあることがわかった．</p>
<p>なお，上記の例では一つ一つ記述統計量を算出したが，<code class="docutils literal notranslate"><span class="pre">describe()</span></code> メソッドを用いることで，DataFrameの各列に対して複数の要約統計量を一気に計算することもできる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p><strong>💡 Pandasによるデータ分析のまとめ</strong></p>
<ul class="simple">
<li><p>Pandasというライブラリを用いることで，データの収集や整理，加工が容易となる</p></li>
<li><p>PandasではDataFrameやSeriesといったデータ構造が利用される</p></li>
<li><p>DataFrameの列や行に対してに対して条件式などを用いた用いた抽出が可能である</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="matplotlib">
<h2><code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code> によるデータの可視化<a class="headerlink" href="#matplotlib" title="Link to this heading">#</a></h2>
<p>データ分析において，集計した結果を図やグラフなどを用いて視覚的に表示してみることは非常に重要である．
そのデータから読み取ることができる情報と，それに基づく意思決定にまで影響を及ぼす．
このような操作を，データの <strong>可視化（visualization）</strong> と呼ぶ．</p>
<p>ここでは，グラフ描画用ライブラリである <strong>Matplotlib</strong> のモジュールを使用して，データを可視化するためのグラフを作成していく．</p>
<p>Matplotlibライブラリを使用するためには，まず <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> のモジュールをインポートする．
ここでは，基本的なグラフを描画するための <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> というモジュールを使用する．
慣例として，同モジュールに <code class="docutils literal notranslate"><span class="pre">plt</span></code> という短縮名を付けて利用しよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<p>なお，<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code> は，ノートブック内でグラフを表示するために必要なコードである．</p>
<p>なお，以下はMatplotlibで日本語フォントを扱うための設定用コードなので，実行だけして中身は無視して構わない．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">rcParams</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.family&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sans-serif&#39;</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hiragino Sans&#39;</span><span class="p">,</span> <span class="s1">&#39;Yu Gothic&#39;</span><span class="p">,</span> <span class="s1">&#39;Meiryo&#39;</span><span class="p">,</span> <span class="s1">&#39;Takao&#39;</span><span class="p">,</span> <span class="s1">&#39;IPAexGothic&#39;</span><span class="p">,</span> <span class="s1">&#39;IPAPGothic&#39;</span><span class="p">,</span> <span class="s1">&#39;VL PGothic&#39;</span><span class="p">,</span> <span class="s1">&#39;Noto Sans CJK JP&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p><strong>💡 【補足】上記コードが気になる人向けの解説</strong></p>
<p>上記のコードについて簡単に解説する（気にならない人はスルーしてよい）．</p>
<p>まず一行目では，Matplotlibに含まれる <code class="docutils literal notranslate"><span class="pre">rcParams</span></code> という辞書形式のオブジェクトをインポートしている．
ここにはさまざまなデフォルト設定値が格納されており，この設定値を変更することで，プログラム全体のグラフに対して見た目などの変更が可能である．</p>
<p><code class="docutils literal notranslate"><span class="pre">rcParams['font.family']</span></code> を変更することで，グラフ中のフォントを任意に設定できる．
ただし，使用しているPC環境（OSやブラウザ）によっては特定のフォントが使えたり使えなかったりするため，フォントの大きなカテゴリ（総称フォントと呼ばれる）である <code class="docutils literal notranslate"><span class="pre">sans-serif</span></code> を設定している．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.family&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;sans-serif&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sans-serif</span></code> とは日本語フォントでいうところのゴシック体である．</p>
<p>また，<code class="docutils literal notranslate"><span class="pre">rcParams['font.sans-serif']</span></code> を変更することで，<code class="docutils literal notranslate"><span class="pre">sans-serif</span></code> として利用可能なフォントの選択肢を具体的に指定している．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hiragino Sans&#39;</span><span class="p">,</span> <span class="s1">&#39;Yu Gothic&#39;</span><span class="p">,</span> <span class="s1">&#39;Meirio&#39;</span><span class="p">,</span> <span class="s1">&#39;Takao&#39;</span><span class="p">,</span> <span class="s1">&#39;IPAexGothic&#39;</span><span class="p">,</span> <span class="s1">&#39;IPAPGothic&#39;</span><span class="p">,</span> <span class="s1">&#39;VL PGothic&#39;</span><span class="p">,</span> <span class="s1">&#39;Noto Sans CJK JP&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>このうち，使用しているPC環境が利用可能なものがグラフ中のフォントとして使用される．
例えば，Macであれば必ず <code class="docutils literal notranslate"><span class="pre">Hiragino</span> <span class="pre">Sans</span></code> が利用可能であり，Windowsであれば <code class="docutils literal notranslate"><span class="pre">Yu</span> <span class="pre">Gothic</span></code> や <code class="docutils literal notranslate"><span class="pre">Meirio</span></code> が，Ubuntuであれば <code class="docutils literal notranslate"><span class="pre">Noto</span> <span class="pre">Sans</span> <span class="pre">CJK</span> <span class="pre">JP</span></code> が使えるはずである．
そのため，一般的なPC環境であれば，OSやブラウザを問わず正しく日本語フォントでグラフを出力できるようになっている．</p>
</div></blockquote>
<section id="id13">
<h3>線グラフ<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pyplot</span></code>モジュールに含まれている <code class="docutils literal notranslate"><span class="pre">plot</span></code> 関数を用いて，線グラフを描画していこう．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>と書くことで，x軸に変数 <code class="docutils literal notranslate"><span class="pre">X</span></code>，y軸に変数 <code class="docutils literal notranslate"><span class="pre">Y</span></code> を取った線グラフを表示することができる．
このとき，<code class="docutils literal notranslate"><span class="pre">X</span></code> と <code class="docutils literal notranslate"><span class="pre">Y</span></code> にはリストやPandasのSeries，DataFrameなど様々指定できる．</p>
<p>まずは，「日付」によって「アイスコーヒー」の販売数がどう変わるかをグラフ化してみよう．
x軸に日付，y軸にアイスコーヒーの販売数を指定してグラフを描画すればよい．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</div>
<p>なお，セルの最後に実行されたオブジェクトの出力表示を無くすため，これ以降グラフを描画する際は，セルの最後の行にセミコロン（<code class="docutils literal notranslate"><span class="pre">;</span></code>）をつけていることに注意されたい（セミコロンが無くてもグラフ自体は問題なく描画できる）．</p>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> 関数ではグラフの線の種類や色，データポイントのマーカの種類を，様々な引数で指定できる．</p>
<p>例えば，先ほど作成した線グラフにデータポイントの丸型マーカを加えたい場合，<code class="docutils literal notranslate"><span class="pre">plot</span></code> 関数の引数に <code class="docutils literal notranslate"><span class="pre">marker='o'</span></code> を追加する．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>引数 <code class="docutils literal notranslate"><span class="pre">marker</span></code> に違う値を指定するとマーカの形状が変わる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>他にも，<code class="docutils literal notranslate"><span class="pre">linestyle</span></code> で線の種類を変えたり，<code class="docutils literal notranslate"><span class="pre">color</span></code> で線の色を変更したりできる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>それぞれの引数で指定可能な値は以下を参照されたい．</p>
<ul class="simple">
<li><p><a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D.set_linestyle">linestyle</a></p></li>
<li><p><a class="reference external" href="https://matplotlib.org/api/colors_api.html?highlight=color#module-matplotlib.colors">color</a></p></li>
<li><p><a class="reference external" href="https://matplotlib.org/api/markers_api.html#module-matplotlib.markers">marker</a></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">pyplot</span></code> モジュールでは，グラフのタイトルと各軸のラベルを指定して表示することができる．
タイトルは <code class="docutils literal notranslate"><span class="pre">title</span></code> 関数，x軸のラベルは <code class="docutils literal notranslate"><span class="pre">xlabel</span></code> 関数，y軸のラベルは <code class="docutils literal notranslate"><span class="pre">ylabel</span></code> 関数に文字列を渡すことで指定可能である．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span> <span class="c1"># グラフを作成</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;日付とアイスコーヒー販売数の関係&#39;</span><span class="p">)</span> <span class="c1"># タイトルを追加</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日付&#39;</span><span class="p">)</span> <span class="c1"># x軸のラベルを追加</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数 (個)&#39;</span><span class="p">);</span> <span class="c1"># y軸のラベルを追加</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p><strong>❗ タイトルなどが文字化けする場合</strong></p>
<p>PC環境によっては，日本語フォント表示用コードを実行してもグラフ中に日本語がうまく表示されず，文字が <code class="docutils literal notranslate"><span class="pre">□</span></code> のように表示されることがある．</p>
<p>その場合は，以下のコードをコードセルに貼り付け，実行してからグラフを描画せよ．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">japanize</span><span class="o">-</span><span class="n">matplotlib</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">japanize_matplotlib</span>
<span class="n">japanize_matplotlib</span><span class="o">.</span><span class="n">japanize</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>同様に，「日付」によって「ホットコーヒー」の販売数がどう変わるかを線グラフで描画してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># グラフを作成</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;日付とホットコーヒー販売数の関係&#39;</span><span class="p">)</span> <span class="c1"># タイトルを追加</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日付&#39;</span><span class="p">)</span> <span class="c1"># x軸のラベルを追加</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数（個）&#39;</span><span class="p">);</span> <span class="c1"># y軸のラベルを追加</span>
</pre></div>
</div>
</div>
</div>
<p>さて，では「日付とアイスコーヒー」のグラフと，「日付とホットコーヒー」のグラフを交互に見てみましょう．
何か気がつくことがないだろうか？</p>
<p>アイスコーヒーとホットコーヒーで，販売数の変動パターンが逆になっているように見える．
つまり，アイスコーヒーが多く売れる日はホットコーヒーが少なく，逆にホットコーヒーが多く売れる日はアイスコーヒーが少ない傾向がある．</p>
<p>これは気温と関係があるかもしれない．2つの変数の関係を可視化するために，次に <strong>散布図</strong> というグラフで気温とコーヒー販売数の関係を見ていこう．</p>
</section>
<section id="id14">
<h3>散布図<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<p>散布図とは，横軸と縦軸に異なる要素を設定し，それらの関係性を調べる際に用いられる．</p>
<p>Matplotlibでは，<code class="docutils literal notranslate"><span class="pre">pyplot</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">scatter</span></code> 関数を用いて描画することができる．
次のように，</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>と書くことで，x軸に変数 <code class="docutils literal notranslate"><span class="pre">X</span></code>，y軸に変数 <code class="docutils literal notranslate"><span class="pre">Y</span></code> を取った散布図を作成できる．
このとき，線グラフの場合と同様に，さまざまな引数を指定することでグラフの見た目を変更できる．
ここでは例として，引数 <code class="docutils literal notranslate"><span class="pre">s</span></code> と <code class="docutils literal notranslate"><span class="pre">alpha</span></code> を用いて，各マーカの大きさと透明度を指定している．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;最高気温とアイスコーヒー販売数の関係&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;最高気温（度）&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数（個）&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>このグラフをみると，最高気温とアイスコーヒー販売数の間には，右肩上がりの関係があるように見える．
つまり，最高気温が高くなればなるほど，アイスコーヒーの販売数は多くなるような関係がありそうだ．</p>
<p>では，ホットコーヒーについても同様に散布図を描いてみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;最高気温とホットコーヒー販売数の関係&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;最高気温（度）&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数（個）&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>こちらは逆に，最高気温が高くなるほどホットコーヒーの販売数が少なくなる，右肩下がりの関係が見られる．</p>
<p>この関係については，後ほど詳しく考えてみるとして，その前に他のグラフをいくつか紹介する．</p>
</section>
<section id="id15">
<h3>棒グラフ<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<p>棒グラフは日常でもよく目にするグラフの一つであり，横軸に項目，縦軸にデータ値をとり，棒の高さでデータの大きさを表している．</p>
<p>Matplotlibでは，<code class="docutils literal notranslate"><span class="pre">pyplot</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">bar</span></code> 関数を用いて棒グラフを描画できる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>先ほどは線グラフで「日付」ごとの「アイスコーヒー」販売数を可視化したが，同じものを棒グラフで表現してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;日付とアイスコーヒー販売数の関係&#39;</span><span class="p">)</span> <span class="c1"># タイトルを追加</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日付&#39;</span><span class="p">)</span> <span class="c1"># x軸のラベルを追加</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数 (個)&#39;</span><span class="p">);</span> <span class="c1"># y軸のラベルを追加</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p><strong>💡 線グラフと棒グラフの使い分け</strong></p>
<p>上記の通り，今回は「日付」と「アイスコーヒー」販売数の関係を，線グラフと棒グラフという2種類の方法で可視化した．
グラフより，どちらも同じような情報を表しているが，どんな時に使い分ければよいだろうか？</p>
<p>線グラフの場合は，データ点同士が線で結ばれているため，より日付に応じた変化が強調されているような印象である．
一方，棒グラフの場合は，ある日付と別の日付との間の値の差がより分かりやすい印象である．
つまり，線グラフは「変化」が強調されており，棒グラフは「大小の違い」が強調されているわけである．</p>
<p>このことから，横軸の値が連続したデータ（例：年度ごとの売り上げの推移）に関しては，線グラフの方が分かりやすい場面が多い．
一方，横軸の値が独立しているデータ（例：広島，岡山，島根の3地域の売り上げ）については，棒グラフの方が適切だろう．</p>
<p>今回の「日付」と「アイスコーヒー」販売数の場合，横軸は連続した「日付」なので，線グラフの方が適切と思われる．</p>
<p>ただし，「絶対にどちらかを使うべし」という厳密なルールは存在しない．
むしろ，そのグラフから自分がどのような主張を行いたいか，に応じて適切なグラフを使い分けることが大切である．</p>
</div></blockquote>
</section>
<section id="id16">
<h3>【発展】ヒストグラム<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<p>ヒストグラムは，データを階級で分割し，横軸に階級，縦軸に各階級の度数をとった統計グラフである．
簡単にいうと，データをいくつかの均等な区間に分割するとともに，各区間に含まれるデータの個数を計算し，可視化したものである．
主に，データの分布を調べるために用いられる．</p>
<p>Matplotlibでは，<code class="docutils literal notranslate"><span class="pre">pyplot</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">hist</span></code> 関数を用いてヒストグラムを描画できる．</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>本来，ヒストグラムはデータ量がある程度多くないと描画が難しいが，今回はひとまず「アイスコーヒー」販売数のデータのヒストグラムを表示してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;アイスコーヒー販売数のヒストグラム&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;販売数&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;度数&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>このグラフより，アイスコーヒーの販売数は250個から470個くらいの範囲に主に分布していることがわかる．</p>
<p>なお，<code class="docutils literal notranslate"><span class="pre">hist</span></code> 関数ではデフォルトの分割数として <code class="docutils literal notranslate"><span class="pre">10</span></code> が設定されているが，ここを手動で設定したい場合は引数 <code class="docutils literal notranslate"><span class="pre">bins</span></code> に分割数を指定すれば良い．
例えば分割数により大きな <code class="docutils literal notranslate"><span class="pre">15</span></code> を設定すると，ヒストグラムの各棒が細くなり，分布の表現がより細かくなる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;アイスコーヒー販売数のヒストグラム&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;販売数&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;度数&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id17">
<h3>複数のグラフの重ね合わせ<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<p>Matplotlibでは，グラフ作成用関数を繰り返し実行することで，各グラフを重ねて表示することが可能である．</p>
<p>例として，アイスコーヒーとホットコーヒーの販売数を同じグラフに重ねて描画してみる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;コーヒー販売数の推移&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日付&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数（個）&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<p>上記からわかるように，線グラフを重ねたい場合は同じセル内で単純に <code class="docutils literal notranslate"><span class="pre">plt.plot</span></code> を複数実行すればよいことがわかる．
また，各グラフは自動で色分けされている（もちろん，引数で任意の色を指定することもできる）．</p>
<p>ただし，上記のグラフだけだと青色と橙色のどちらがアイスコーヒーとホットコーヒーなのか判断がつかない．そのような場合は凡例を表示する必要がある．</p>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> 関数の <code class="docutils literal notranslate"><span class="pre">label</span></code> 引数にグラフの各線の凡例として表示したい文字列を指定した上で，<code class="docutils literal notranslate"><span class="pre">legend</span></code> 関数を呼び出すことで，グラフ中に凡例を表示することができる．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">],</span>  <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;日付&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;コーヒー販売数の推移&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日付&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;販売数（個）&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id18">
<h3>グラフから読み取れる相関関係<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<p>さて，話を少し戻そう．
散布図の説明をした際に，「最高気温」と「アイスコーヒー」の間に右肩上がりの関係が，「最高気温」と「ホットコーヒー」の間に右肩下がりの関係が確認された．</p>
<p>このように，「x軸の値が大きくなるほど，y軸の値も大きくなる」ような関係性を，<strong>正の相関</strong> という．
相関とは，「互いに関係がある」という意味である．</p>
<p>逆に，「x軸の値が大きくなるほど，y軸の値は小さくなる」ことを <strong>負の相関</strong> という．
この場合，散布図は右肩下がりになるはずである．</p>
<p>「x軸の値とy軸の値の間に明確な関係がない」場合，<strong>無相関</strong> と呼ばれる．
この場合，散布図に傾きはみられない．</p>
<p>このような2つの値の相関関係の強さを表す指標として， <strong>相関係数</strong> というものがある．
相関係数は-1から1の値をとり，絶対値が大きいほど関係性が強いことを意味する．
相関係数にはいくつかの定義がありますが，最も代表的なピアソンの積率相関係数 <span class="math notranslate nohighlight">\(r\)</span> は以下の式で計算される．</p>
<div class="math notranslate nohighlight">
\[
r = \frac{\sum_{i=1}^N (x_i - \bar{x}) (y_i - \bar{y})}{\sqrt{\sum_{i=1}^N(x_i - \bar{x})^2 \sum_{i=1}^N(y_i - \bar{y})^2}}
\]</div>
<blockquote>
<div><p><strong>💡 相関係数の目安</strong></p>
<p>相関係数の値と相関の強さに関して，よく使われる目安は以下の通りである．</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>相関係数の絶対値</p></th>
<th class="head"><p>目安</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.7〜1.0</p></td>
<td><p>強い相関</p></td>
</tr>
<tr class="row-odd"><td><p>0.4〜0.7</p></td>
<td><p>中程度の相関</p></td>
</tr>
<tr class="row-even"><td><p>0.2〜0.4</p></td>
<td><p>弱い相関</p></td>
</tr>
<tr class="row-odd"><td><p>0.0〜0.2</p></td>
<td><p>ほとんど相関がない</p></td>
</tr>
</tbody>
</table>
</div>
<p>ただしこれは絶対的な基準ではないことに注意されたい．</p>
</div></blockquote>
<p>相関係数も要約統計量と同様に，Pandasの機能を用いて計算することができる．</p>
<p>相関係数を計算したい列を含むデータフレームに対し，</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DataFrame</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
<p>とすれば計算結果が返ってくる．</p>
<p>相関係数を計算してみよう．まず，「最高気温」と「アイスコーヒー」の間の相関係数を計算する．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">,</span> <span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>ここで返されるのは相関行列というものである．この行列の対角成分は同じ変数間の相関係数なので，「1」となる．
「最高気温」と「アイスコーヒー」の間の相関係数を確認するためには，非対角成分の部分に着目すれば良い．</p>
<p>これより，「最高気温」と「アイスコーヒー」の間の相関係数は約0.98であることがわかった．
これは非常に強い正の相関関係を示している．</p>
<blockquote>
<div><p><strong>❗ 注意</strong></p>
<p>上記の相関行列において，非対角成分は2つあるが，どちらを見ればよいだろうか．
正解は，「どちらでも良い」である．</p>
<p>「最高気温」と「客数」の間の相関も，その逆である「客数」と「最高気温」の間の相関も，同じ意味を持つ．
これは，上述の相関係数において <span class="math notranslate nohighlight">\(x\)</span> と <span class="math notranslate nohighlight">\(y\)</span> を入れ替えても本質的な計算は変わらないことからも明らかである．
つまり，相関行列は相関行列は対称行列の一種である．</p>
</div></blockquote>
<p>次に，「最高気温」と「ホットコーヒー」の間の相関係数を計算してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">,</span> <span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>最高気温」と「ホットコーヒー」の間の相関係数は約-0.98となった．
負の値であることから負の相関を示しており，その絶対値が1に近いことから非常に強い負の相関関係があることがわかる．</p>
<p>最後に，全ての変数間の相関関係を一度に確認してみよう．</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;最高気温&#39;</span><span class="p">,</span> <span class="s1">&#39;アイスコーヒー&#39;</span><span class="p">,</span> <span class="s1">&#39;ホットコーヒー&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>この相関行列から，以下のことがわかる：</p>
<ul class="simple">
<li><p>最高気温とアイスコーヒー：強い正の相関（0.98）</p></li>
<li><p>最高気温とホットコーヒー：強い負の相関（-0.98）</p></li>
<li><p>アイスコーヒーとホットコーヒー：強い負の相関（-0.97）</p></li>
</ul>
<p>今回の分析から，コンビニでのコーヒー販売において，気温が消費者の商品選択に大きな影響を与えていることが明らかになった．このような知見は，在庫管理や販売戦略の立案に活用できるだろう．</p>
<p>このように，データから平均値など要約統計量を計算したり，散布図などを描画して可視化してみたり，相関係数を計算したりすることで，データの中の性質や関係性を理解したり分析したりすることができる．</p>
<p>今回紹介したPandasやMatplotlibのように，Pythonにはこのようなデータ分析を実現するための様々なモジュール・ライブラリが揃っているため，それらを駆使することで幅広い応用に展開可能である．</p>
<blockquote>
<div><p><strong>💡 【補足】相関関係と因果関係</strong></p>
<p>相関係数は，あくまで2つの変数の間の関係性の強さを示す指標に過ぎない．
今回の分析で「最高気温」と「アイスコーヒー」の間に強い正の相関が，「最高気温」と「ホットコーヒー」の間に強い負の相関があることがわかった．
これは，「最高気温が高いとアイスコーヒーが多く売れ，ホットコーヒーの売り上げは少なくなる」という傾向を示している（ある意味当然であるが）．</p>
<p>しかし，この結果から「最高気温が高いことが <strong>原因</strong> で，<strong>結果</strong> として「アイスコーヒーが多く売れ，ホットコーヒーは少なくなる」と明確に結論づけることはできない．実際には，店舗側の販売戦略や消費者の嗜好など，様々な要因が影響している可能性がある．</p>
<p>因果関係があるかどうかを示すためには，より複雑な別の分析を行う必要がある．</p>
</div></blockquote>
<p>このように，データから平均値など要約統計量を計算したり，散布図などを描画して可視化してみたり，相関係数を計算したりすることで，データの中の性質や関係性を理解したり分析したりすることができる．</p>
<blockquote>
<div><p><strong>💡 Matplotlibによるデータの可視化のまとめ</strong></p>
<ul class="simple">
<li><p>データを様々な方法で視覚的わかりやすく提示することを可視化と呼ぶ</p></li>
<li><p>Matplotlibは，Pythonでよく用いられるグラフ描画ライブラリである</p></li>
<li><p>線グラフや棒グラフ，ヒストグラムなど，さまざまなグラフを描画できる</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs/05_lecture"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../04_exercise/exercise_functions_and_scope.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">関数（演習）</p>
      </div>
    </a>
    <a class="right-next"
       href="../05_exercise/exercise_introduction_to_data_analysis.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">データ分析入門（演習）</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">内容</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Pythonの外部ライブラリ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">モジュール／ライブラリのインポート</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">モジュールに別名をつける</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">【発展】特定の関数だけを読み込む</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">【発展】特定の関数だけを読み込む</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> によるデータ操作</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-dataframe">Series と DataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">データの読み込み</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">列の抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">行の抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#iloc">【発展】 <code class="docutils literal notranslate"><span class="pre">iloc</span></code> を用いて特定の行・列を抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">条件による抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">複数条件による抽出</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">要約統計量の算出</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#matplotlib"><code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code> によるデータの可視化</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">線グラフ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">散布図</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">棒グラフ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">【発展】ヒストグラム</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">複数のグラフの重ね合わせ</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">グラフから読み取れる相関関係</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Hiroaki Aizawa & Akira Furui
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025 (CC BY 4.0).
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>